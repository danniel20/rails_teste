<% if contact.errors.any? %>
  <div id="error_explanation">
    <h2><%= t('general.form_error') %> </h2>

    <ul>
    <% contact.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<%= form_with(model: contact, local: true) do |f| %>
  
  <div class="row">
    <div class="form-group col-sm-4">
      <%= f.label :name %>
      <%= f.text_field :name, id: :contact_name, class: "form-control" %>
    </div>
  </div>

  <div class="row">
    <div class="form-group col-sm-4">
      <%= f.label :email %>
      <%= f.text_field :email, id: :contact_email, class: "form-control" %>
    </div>
  </div>

  <div class="row">
    <div class="form-group col-sm-3">
      <%= f.label :birth_date %>
      <%= f.text_field(:birth_date, id: :contact_birth_date, value: "#{l(contact.birth_date) unless contact.birth_date.blank? }", class: "datepicker form-control") %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label(:gender) %>
    <%= f.collection_radio_buttons(:gender, options_for_genders, :id, :description) do |b|%>
      <div class="radio-inline">
        <%= b.label { b.radio_button + b.text } %>
      </div>
    <% end%>
  </div>

  <%= f.fields(model: :address) do |address| %>
    
    <div class="row">
      <div class="form-group col-sm-3">
        <%= address.label(:street) %>
        <%= address.text_field(:street, class: "form-control") %>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-3">
        <%= address.label(:zip_code) %>
        <%= address.text_field(:zip_code, class: "form-control") %>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-3">
        <%= address.label(:city) %>
        <%= address.text_field(:city, class: "form-control") %>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-3">
        <%= address.label(:state) %>
        <%= address.text_field(:state, class: "form-control") %>
      </div>
    </div>

  <% end %>

  <div class="form-group">
    <%= f.label(:preferences) %>
    <%= f.collection_check_boxes(:preference_ids, Preference.all, :id, :name) do |b|%>
      <div class="checkbox-inline">
        <%= b.label { b.check_box + b.text } %>
      </div>
    <% end %>
  </div>

  <div class="actions">
    <%= f.submit(t('buttons.save'), class: "btn btn-primary") %>
  </div>
<% end %>
